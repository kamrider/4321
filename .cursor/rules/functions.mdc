---
description: 功能完善
globs: 
alwaysApply: false
---
# Your rule content

- You can @ files here
- You can use markdown but dont have to

待优化项目

~~1. 导出功能逻辑分离~~ (已完成)

2. 缓存优化
问题：
- 用户切换后缓存未更新
- history、mistakes、exported mistakes 页面数据未随用户切换而更新
优化方向：
- 实现基于用户ID的缓存隔离
- 监听用户切换事件，触发缓存更新
- 优化数据加载性能
- 考虑使用 localStorage 或 IndexedDB
- 确保用户数据安全隔离

3. 舒尔特方格与注意力模式持久化
改进点：
- 将用户偏好设置持久化存储
- 保存舒尔特方格大小设置
- 保存时间限制设置

4. History页面训练按钮防抖
- 添加提交状态锁
- 使用 isSubmitting 变量控制提交状态
- 防止重复提交
- 添加适当的延时
- 优化用户体验
- 在提交过程中禁用按钮
- 添加加载状态提示
- 提供视觉反馈

5. History页面筛选功能
需求：
- 实现数据筛选功能
- 添加筛选条件UI
- 支持多条件组合筛选
- 确保筛选性能优化

6. 右键菜单功能
需求：
- 实现自主解冻功能
- 添加到路由系统(routes)
- 完善右键菜单交互
- 添加相应的权限控制

7. 导出逻辑优化
需求：
- 分离单个错题导出和批量导出逻辑
- 在主进程中创建独立的处理函数
- 优化导出性能，特别是批量导出
- 添加导出进度反馈
- 改进导出文件的组织结构
- 优化导出错误处理

实现步骤：
- 在 electron/main/index.ts 中分离导出处理函数
- 修改 History.vue 中的导出调用逻辑
- 添加导出进度状态管理
- 实现批量导出的并发控制
- 优化导出文件命名和组织
